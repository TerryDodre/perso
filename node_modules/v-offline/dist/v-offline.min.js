/*!
  * v-offline v3.0.3
  * (c) 2021 Vinayak Kulkarni
  * @license MIT
  */
!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],o):o((e="undefined"!=typeof globalThis?globalThis:e||self).VOffline={},e.vue)}(this,(function(e,o){"use strict";var n={exports:{}};!function(e,o){var n=function(e){this.opt=e||{},this.favicon=this.opt.favicon||"/favicon.ico",this.timeout=this.opt.timeout||0,this.logError=this.opt.logError||!1};n.prototype.ping=function(e,o){var n,t,i;"undefined"!=typeof Promise&&(n=new Promise((function(e,o){t=e,i=o})));var r,s=this;s.wasSuccess=!1,s.img=new Image,s.img.onload=function(e){s.wasSuccess=!0,f.call(s,e)},s.img.onerror=function(e){s.wasSuccess=!1,f.call(s,e)};var a=new Date;function f(){r&&clearTimeout(r);var e=new Date-a;if(o){if("function"==typeof o)return this.wasSuccess?(n&&t(e),o(null,e)):(s.logError,n&&i(e),o("error",e));throw new Error("Callback is not a function.")}if(n)return this.wasSuccess?t(e):i(e);throw new Error("Promise is not supported by your browser. Use callback instead.")}return s.timeout&&(r=setTimeout((function(){f.call(s,void 0)}),s.timeout)),s.img.src=e+s.favicon+"?"+ +new Date,n},e.exports&&(e.exports=n)}(n);var t=n.exports,i=o.defineComponent({name:"VOffline",props:{onlineClass:{type:String,required:!1,default:""},offlineClass:{type:String,required:!1,default:""},pingUrl:{type:String,required:!1,default:"https://google.com"}},setup(e,{slots:n,emit:i}){const r=o.ref(navigator.onLine||!1),s=o.ref(["online","offline","load"]),a=o.ref(e.pingUrl||"https://google.com"),f=o.computed((()=>r.value?"string"==typeof e.onlineClass?e.onlineClass:"":"string"==typeof e.offlineClass?e.offlineClass:""));async function l(){const e=new t;try{(await e.ping(a.value)||navigator.onLine)&&(r.value=!0,i("detected-condition",r.value))}catch(e){!e&&navigator.onLine||(r.value=!1,i("detected-condition",r.value))}}return s.value.forEach((e=>window.addEventListener(e,l))),o.onBeforeUnmount((()=>{s.value.forEach((e=>window.removeEventListener(e,l)))})),()=>o.h("div",{class:f.value},n)}});i.__file="src/components/VOffline.vue";let r=!1;var s=e=>{r||(e.component("VOffline",i),r=!0)};e.VOffline=i,e.default=s,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=v-offline.min.js.map
